(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(4),o=n.n(r),i=(n(15),n(9)),s=n(3),u=n(5),l=(n(16),n(17),n(1));var j=function(e){var t=e.children;return Object(l.jsx)("div",{className:"Container",children:t})};n(19);function b(e){var t=e.webformatURL,n=e.largeImageURL,c=e.tags,a=e.onClick;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{src:t,alt:c,className:"ImageGalleryItem-image",onClick:function(){return a(n,c)}})})}n(20);function d(e){var t=e.elements,n=e.handleLargeImage;return Object(l.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){var c=e.webformatURL,a=e.largeImageURL,r=e.tags;return Object(l.jsx)(b,{webformatURL:c,largeImageURL:a,tags:r,onClick:n},t)}))})}n(21);var m=function(e){var t=e.onFormSubmit,n=Object(c.useState)(""),a=Object(s.a)(n,2),r=a[0],o=a[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):Object(u.b)("Type in your query")},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",name:"query",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})};n(22);function h(e){var t=e.onClick;return Object(l.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var f=n(10),O=n.n(f),g=(n(43),document.querySelector("#modal-root"));var p=function(e){var t=e.onCloseModal,n=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(l.jsx)("div",{className:"Modal__backdrop",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(l.jsx)("div",{className:"Modal__content",children:n})}),g)};n(44),n(45);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("https://pixabay.com/api/?key=22119971-476802e1015186c1b911d3e90&per_page=16&page=".concat(t,"&q=").concat(e)).then((function(e){return e.ok?e.json():Promise.reject(new Error("Ooh no! Something went wrong, try again later"))}))}var x=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),o=Object(s.a)(r,2),b=o[0],f=o[1],g=Object(c.useState)([]),x=Object(s.a)(g,2),y=x[0],S=x[1],w=Object(c.useState)(1),k=Object(s.a)(w,2),N=k[0],C=k[1],L=Object(c.useState)(null),I=Object(s.a)(L,2),E=I[0],F=I[1],q=Object(c.useState)("idle"),M=Object(s.a)(q,2),R=M[0],T=M[1],U=Object(c.useState)(""),_=Object(s.a)(U,2),G=_[0],B=_[1],D=Object(c.useState)(!1),J=Object(s.a)(D,2),P=J[0],H=J[1],X=Object(c.useState)({src:"",alt:""}),z=Object(s.a)(X,2),A=z[0],K=z[1];Object(c.useEffect)((function(){""!==n&&(B("pending"),v(n).then((function(e){0===e.hits.length?(u.b.error("Ooh! Nothing was found for your query"),T("idle"),B("")):(f(e),S(e.hits),T("resolved"),B(""))})).catch((function(e){F(e),T("rejected"),B("")})))}),[n]),Object(c.useEffect)((function(){1!==N&&v(n,N).then((function(e){f(e),S((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),T("resolved"),B("")})).catch((function(e){F(e),T("rejected"),B("")})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}),[n,N]);var Q=function(){H(!P)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(j,{children:[Object(l.jsx)(m,{onFormSubmit:function(e){a(e),C(1)}}),P&&Object(l.jsxs)(p,{onCloseModal:Q,children:[Object(l.jsx)("button",{type:"button",className:"Modal-btn",onClick:Q,children:"X"}),Object(l.jsx)("img",{src:A.src,alt:A.alt,className:"Large-image"})]}),"idle"===R&&Object(l.jsx)("p",{children:"Type in your query"}),"pending"===G&&Object(l.jsx)("div",{className:"Loader",children:Object(l.jsx)(O.a,{type:"ThreeDots",color:"#fa5b2b",height:80,width:80})}),"rejected"===R&&{error:E},"resolved"===R&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{elements:y,handleLargeImage:function(e,t){Q(),K({src:e,alt:t})}}),b.hits.length>0&&Object(l.jsx)(h,{onClick:function(){B("pending"),C((function(e){return e+1}))}})]})]}),Object(l.jsx)(u.a,{position:"top-right",autoClose:3e3})]})};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.23daaa88.chunk.js.map